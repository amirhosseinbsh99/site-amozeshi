{% extends 'blog/base.html' %}

{% load static %}
{% load ratings %}

{% block content %}
<style>
/* General responsive styling for the image */
.responsive-image {
    max-width: 100%; /* Adjust size responsively */
    height: auto; /* Maintain aspect ratio */
    object-fit: contain;
    display: block; /* Ensures visibility */
    margin: 0 auto; /* Centers the image horizontally */
}

/* Container for proper centering */
.text-center {
    display: flex; /* Enables flexbox */
    justify-content: center; /* Centers content horizontally */
    align-items: center; /* Centers content vertically */
    padding: 20px; /* Optional spacing */
}

/* For smaller screens */
@media (max-width: 768px) {
    .text-center {
        padding: 10px; /* Adjust spacing for smaller screens */
    }

    .border-2 {
        border-width: 1px; /* Reduce border size for smaller devices */
    }
}
</style>

<!-- Image Header -->
<div class="border-2 border-gray-300 text-center p-4 mx-5 px-5 rounded-lg">
    <img src="{{ course.image.url }}" alt="IMAGE" class="responsive-image">
</div>


<!-- for title and general information of blog -->
<div class="py-1">
	<div class="container">
		<div class="row d-flex justify-content-center" dir="rtl">

			<div class="col-12 col-md-5 d-flex justify-content-center align-items-center mt-md-0 mt-3">

				<div class="d-flex w-100 flex-column justify-content-center align-items-center">
					<div class="d-flex justify-content-center align-items-center p-2 mb-2" style="border-radius:50%;background-color: #f1f1f1;">
						🧑‍🏫
					</div>
					<div dir="rtl" style="font-size:13px;">{{course.teacher}}</div>
				</div>

				<div class="d-flex w-100 flex-column justify-content-center align-items-center">
					<div class="d-flex justify-content-center align-items-center p-2 mb-2" style="border-radius:50%;background-color: #f1f1f1;">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
							<path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
							<path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
						</svg>
					</div>
					<div dir="rtl" style="font-size:13px;"> {{ comments.count }} نظر</div>
				</div>

				<div class="d-flex w-100 flex-column justify-content-center align-items-center">
					<div class="d-flex justify-content-center align-items-center p-2 mb-2" style="border-radius:50%;background-color: #f1f1f1;">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
							<path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
							<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
						</svg>
					</div>
					<div dir="rtl" style="font-size:13px;"> {{course.time_of_study}} دقیقه </div>
				</div>

			</div>
		</div>
	</div>
</div>
<!-- end for title and general information of blog -->


<!-- seccond section -->

<div class="py-3">
	<div class="container">
		<div class="row">
			<div class="col-12 mb-3">
				<div class="d-flex w-100 justify-content-start align-items-centers" dir="rtl">
					{{ course.title }}
				</div>
			</div>
			<div class="col-12" style="border: radius 3px;;border-right:3px solid green ;">
				<div class="d-flex w-100 justify-content-center align-items-centers" dir="rtl" style="text-align: justify;font-size: 14px;line-height: 25px;color: #828282;">
					{{course.content}}
				</div>
			</div>

		</div>
	</div>
</div>
<!-- end seccond section -->

<!-- 3rd section -->
<div class="py-5">
  <div class="container">
    <div class="row" dir="rtl">
      <div class="col-12 col-md-9">
        <!-- my 6th form -->
        <div class="d-flex w-100 justify-content-center align-items-center flex-column mt-5">

          <!-- For reviews -->
          <div class="d-flex flex-row-reverse justify-content-between align-items-end w-100 mb-4">
            <div class="d-flex flex-column justify-content-center align-items-end" style="margin-left: 30%;">
              <h6>نظرات کاربران</h6>
              <div class="w-25" style="border: none; border: 2px solid #00d5b6; margin-left: 50%;"></div>
            </div>
          </div>

          <div class="d-flex w-100 flex-column justify-content-center align-items-center" dir="rtl">
            <div class="row w-100">
              <!-- Add your review content here if needed -->
            </div>
          </div>
        </div>

        <!-- End review -->

        <!-- Start send review -->
        <div class="d-flex flex-row-reverse justify-content-between align-items-end w-100 mb-4">
          <div class="d-flex flex-column justify-content-center align-items-end">
            
          </div>
        </div>
	

        {% for comment in comments %}
		<div dir="rtl" class="comments" style="padding: 15px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 7px; background-color: #f9f9f9; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
		<p class="font-weight-bold" style="margin-bottom: 5px;">
			{{ comment.name }}
			<span class="text-muted font-weight-normal" style="font-size: 0.9em;">{{ comment.created_on }}</span>
		</p>
		<div style="white-space: pre-line;">
			{{ comment.body | linebreaks }}
		</div>
		</div>
		{% endfor %}


    <!-- Send review form -->
		<h6 dir="rtl" >افزودن نظر</h6>
		<div class="w-25" style="border: none; border: 2px solid #00d5b6; text-align: right; margin-left: 60%"></div>
        {% if user.is_authenticated %}
        <form action="" method="POST" id="main_form"  class="comment_form">
          <div class="d-flex justify-content-center align-items-center">
            <div class="row w-100" dir="rtl">
              
              {% csrf_token %}

              <div class="col-12">
                <div>
                  <div class=" mb-1 mt-4" style="color: #828282; font-size: 14px;">متن پیام</div>
                  <textarea class="w-100" name="comment_content" cols="30" rows="10" style="border: 1px solid #ccc; border-radius: 7px;"></textarea>
                </div>
              </div>

              <div class="col-12 mt-4 d-flex justify-content-end">
                <div>
                  <input type="submit" class="btn btn-primary px-5" value="Post">
                </div>
              </div>
            </div>
          </div>
        </form>
        {% else %}
        <h2>ابتدا <a href="{% url 'accounts:login_view' %}" style="color: cyan;">وارد شوید</a></h2>
        {% endif %}

        

      </div>
    </div>
  </div>
</div>

<!-- end 3th section -->

{% endblock content %}